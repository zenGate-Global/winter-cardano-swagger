{"openapi":"3.0.0","paths":{"/palmyra/commodityDetails":{"post":{"operationId":"PalmyraController_commodityDetails","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommodityDetailsDto"}}}},"responses":{"201":{"description":"returns data associated to the contract the token with matching id is in","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommodityDetailsResponseDto"}}}},"400":{"description":"returns error message","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"tags":["Blockchain"]}},"/palmyra/spendCommodity":{"post":{"operationId":"PalmyraController_spendCommodity","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpendCommodityDto"}}}},"responses":{"201":{"description":"returns queue data associated to spending","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpendCommodityResponseDto"}}}},"400":{"description":"returns error message","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"tags":["Blockchain"]}},"/palmyra/tokenizeCommodity":{"post":{"operationId":"PalmyraController_tokenizeCommodity","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenizeCommodityDto"}}}},"responses":{"201":{"description":"returns queue data associated to tokenizing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenizeCommodityResponseDto"}}}},"400":{"description":"returns error message","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"tags":["Blockchain"]}},"/palmyra/recreateCommodity":{"post":{"operationId":"PalmyraController_recreateCommodity","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecreateCommodityDto"}}}},"responses":{"201":{"description":"returns queue data associated to tokenizing","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecreateCommodityResponseDto"}}}},"400":{"description":"returns error message","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}},"tags":["Blockchain"]}},"/transactions":{"get":{"operationId":"TransactionsController_findAll","parameters":[],"responses":{"default":{"description":"Returns all transactions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Transaction"}}}}}},"tags":["Transactions"]}},"/transactions/{txid}":{"get":{"operationId":"TransactionsController_findOne","parameters":[{"name":"txid","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"400":{"description":"issue with txid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"default":{"description":"Returns a transaction by txid","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Transaction"}}}}}},"tags":["Transactions"]}},"/check":{"get":{"operationId":"CheckController_findAll","parameters":[],"responses":{"default":{"description":"Returns all transactions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Check"}}}}}},"tags":["Check"]}},"/check/{id}":{"get":{"operationId":"CheckController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"default":{"description":"Returns a transaction by txid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Check"}}}}},"tags":["Check"]}}},"info":{"title":"Winter Backend","description":"Winter Backend Documentation","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"schemas":{"CommodityDetailsDto":{"type":"object","properties":{"tokenIds":{"description":"Each `id` is a concatenation of policyId and the hex bytes of token name","example":["802ad2b341d95e0f55fd02bf364f3fa28aae08abb3e304160e76e808617065"],"type":"array","items":{"type":"string"}}},"required":["tokenIds"]},"ObjectDatum":{"type":"object","properties":{"protocol_version":{"type":"number","description":"protocol version of winter","example":1},"data_reference":{"type":"string","description":"data reference, usually a url to ipfs","example":"697066733a2f2f516d4e4c6f657a62586b6b33376d314458356959414452777071765a3379667535556a4d4736736e647531416151"},"event_creation_info":{"type":"string","description":"If events are created, this will be txid of first event, else its empty","example":""},"signers":{"description":"at least one of these signers must sign to further interact with this event","example":["5afc8364f8733c895f54b5cf261b5efe71d3669f59ccad7439ccf289"],"type":"array","items":{"type":"string"}}},"required":["protocol_version","data_reference","event_creation_info","signers"]},"CommodityDetailsResponseDto":{"type":"object","properties":{"message":{"description":"Array of ObjectDatum representing commodity details","type":"array","items":{"$ref":"#/components/schemas/ObjectDatum"}}},"required":["message"]},"ErrorResponse":{"type":"object","properties":{"message":{"type":"string","example":"Koios API Error","description":"The error message indicating the general error category"},"cause":{"type":"string","example":"id not found","description":"The specific error message thrown"}},"required":["message","cause"]},"UtxoDto":{"type":"object","properties":{"txHash":{"type":"string","description":"txHash of utxo to spend","example":"cb52c73335b6495e1662747a6a69c335e5341eaf391086b192650564658ce4b9"},"outputIndex":{"type":"number","description":"output index of utxo to spend","example":0}},"required":["txHash","outputIndex"]},"SpendCommodityDto":{"type":"object","properties":{"utxos":{"description":"Array of utxos","type":"array","items":{"$ref":"#/components/schemas/UtxoDto"}}},"required":["utxos"]},"SpendCommodityResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"message indicating response","example":"success"},"id":{"type":"string","description":"uuid of request","example":"2dc32cfe-cc0f-45cd-991c-7d68b2476e1a"}},"required":["message","id"]},"TokenizeCommodityDto":{"type":"object","properties":{"tokenName":{"type":"string","description":"token name utf8 string","example":"coffee tracking singleton"},"metadataReference":{"type":"string","description":"metadata utf8 string","example":"ipfs://bafkreihfxojbr7gvaukph2jaxeoc4n25lut4s6tepfnnouwlxwc74uyhaa"}},"required":["tokenName","metadataReference"]},"TokenizeCommodityResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"message indicating response","example":"success"},"id":{"type":"string","description":"uuid of request","example":"2dc32cfe-cc0f-45cd-991c-7d68b2476e1a"}},"required":["message","id"]},"RecreateCommodityDto":{"type":"object","properties":{"utxos":{"description":"Array of utxos which will be recreated","type":"array","items":{"$ref":"#/components/schemas/UtxoDto"}},"newDataReferences":{"description":"string utf8 data respective to utxos which will be the new data references ","example":["ipfs://someotherhash"],"type":"array","items":{"type":"string"}}},"required":["utxos","newDataReferences"]},"RecreateCommodityResponseDto":{"type":"object","properties":{"message":{"type":"string","description":"message indicating response","example":"success"},"id":{"type":"string","description":"uuid of request","example":"2dc32cfe-cc0f-45cd-991c-7d68b2476e1a"}},"required":["message","id"]},"Transaction":{"type":"object","properties":{"txid":{"type":"string","description":"txid","example":"cb52c73335b6495e1662747a6a69c335e5341eaf391086b192650564658ce4b9"},"recreated":{"description":"recreated utxo details","example":[{"txHash":"cb52c73335b6495e1662747a6a69c335e5341eaf391086b192650564658ce4b9","outputIndex":1}],"type":"array","items":{"type":"string"}},"spent":{"type":"string","description":"spent txid","example":"cb52c73335b6495e1662747a6a69c335e5341eaf391086b192650564658ce4b9"}},"required":["txid","recreated","spent"]},"Check":{"type":"object","properties":{"id":{"type":"string","description":"uuid","example":"2dc32cfe-cc0f-45cd-991c-7d68b2476e1a"},"type":{"type":"string","description":"type","enum":["SPEND","TOKENIZE","RECREATE"],"example":"RECREATE"},"status":{"type":"string","description":"status","enum":["SUCCESS","QUEUED","ERROR","PENDING"],"example":"SUCCESS"},"error":{"type":"string","description":"error","example":null},"txid":{"type":"string","description":"txid","example":"cb52c73335b6495e1662747a6a69c335e5341eaf391086b192650564658ce4b9"},"additionalInfo":{"description":"additionalInfo only there for tokenizing and recreate, it shows token name and metadata ref or utxo respectively","oneOf":[{"$ref":"#/components/schemas/TokenizeCommodityDto"},{"$ref":"#/components/schemas/RecreateCommodityDto"}]}},"required":["id","type","status","error","txid","additionalInfo"]}}}}